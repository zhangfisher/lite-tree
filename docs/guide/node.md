# 节点

## 节点结构

`LiteTree` 的节点是树的基本单元，它包含了节点的基本信息，以及节点的子节点。完整节点组成如下：

![](./node.png)


`LiteTree` 的节点由以下几部分组成：

- **前置标识**

可选的，长度为`1.2em`，用来显示一些特殊的标识，比如`+`、`-`、`*`等。

- **节点缩进**

用来表示节点的层级关系。默认一个`Tab`或`4`个空格代表一个树层级。


- **节点标题**

节点的标题，用来描述节点的内容。支持指定节点的`CSS`样式，也可以指定包含图标。


- **节点标签**

可选的，用来显示节点的标签，允许指定`1-N`个标签。

- **节点注释**

可选的，用来显示节点的注释，显示在最右侧。默认使用灰色显示。


## 数据格式

`LiteTree`支持多种数据格式来描述树，包括`Lite`、`JSON`等格式。

### Lite格式

`lite`是一种使用缩进来代表层级的简化格式，专门设计来描述树结构，类似`YAML`格式，每`4个空格`代表一个树层级，适合在`Markdown`文档中使用。

`lite`特性如下：

- 使用`4个空格`代表一个树层级。
- 由变量声明区和树数据两个区域，中间使用`---`分开
- 变量声明区用来声明嵌入样式、类样式、图标等信息，在节点中使用。


```md
<LiteTree>
.red=color:red;
#bg=background-color:gray;border:1px solid #ccc;
ithub=data:image/svg+xml;base64,<...图标数据...>
---
根节点
    节点1
        节点1.1
        节点1.2
    节点2
        节点2.1
        节点2.2
    节点3
        节点3.1
        节点3.2
</LiteTree>
```

`lite`格式的节点数据使用`---`分开，前面部分是`变量声明区`，后面部分是`树数据区`。

#### 变量声明

- 变量声明区使用`---`分开，用来声明嵌入样式、类样式、图标等信息，在节点中使用。
- 使用`#`开头的变量名，代表嵌入样式
- 使用`.`开头的变量名，代表类样式
- 其他变量，代表嵌入图标数据，一般使用`Data URL`格式，如`github=data:image/svg+xml;base64,<...图标数据...>`

**变量声明区声明的变量可以在后续的树数据中引用**

#### 树数据

- `树数据`部分使用`4个空格`或`1个TAB`代表一个树层级，每一行代表一个节点。
- 节点标题前置的`+`、`-`用来表示节点的默认展开、折叠状态。（可选）
- 节点标题只能是单行数据，不支持多行数据。
- 节点标题后紧随`(tag,tag,tag)`用来表示节点的标签，支持多个标签。（可选）
- `//`紧随的代表的是节点的标识符
- `//`后面空白字符后面内容代表节点的注释，显示在最右侧。（可选）

### JSON格式

`JSON`格式是一种通用的数据格式，用来描述树结构，适合在`JavaScript`中使用。
但是在`Markdwon`中使用时比较繁琐，不推荐使用。

```ts
interface LiteTreeNode {
    id: string;
    title: string;
    icon: string;
    open: boolean;    
    level:number
    flag: '+' | '-' | '*' | '!' | 'x' | 'v'  | string;
    diff: '+' | '-' | '*' 
    comment:string
    style:string
    classs:string[]
    tags:string[]
    children?: LiteTreeNode[];
  }  
```





